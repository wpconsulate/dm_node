$(document).on('click','.wc165tab',function(){var cls='wc165selected',vis='wc165visible',el=$(this);el.parent().find('.'+cls).rclass(cls);el.aclass(cls);var p=el.closest('.wb');p.find('> .'+vis).rclass(vis);p.find('> .wc165content').eq(el.index()).aclass(vis)});COMPONENT('wc166',function(self){var items,container,scroller,w;self.readonly();self.destroy=function(){$(window).off('resize',self.resize)};self.make=function(){scroller=self.find('.wc166scroller');items=self.find('.wc166item');container=self.find('.wc166items');container.prepend(items.eq(items.length-1).clone());container.append(items.eq(0).clone());items=self.find('.wc166item');$(window).on('resize',self.resize);self.resize();scroller.prop('scrollLeft',w);self.event('click','button',function(){self[this.name]()})};self.resize=function(){w=self.width();container.css('width',w*(items.length+1));items.css('width',w);scroller.scrollLeft(w)};self.next=function(){var el=scroller,off=el.prop('scrollLeft')+w;if(off>=(items.length-1)*w){el.animate({'scrollLeft':off},500,function(){el.prop('scrollLeft',w)})}else el.animate({'scrollLeft':off},500)};self.prev=function(){var el=scroller,off=el.prop('scrollLeft')-w;if(off<=0){el.animate({'scrollLeft':off},500,function(){el.prop('scrollLeft',(items.length-2)*w)})}else el.animate({'scrollLeft':off},500)}});$(document).on('click','.wc167item',function(){var cls='wc167selected',el=$(this);if(el.hclass(cls)){el.rclass(cls);return}var container=el.closest('.wc167items');container.find('.'+cls).rclass(cls);el.aclass(cls)});COMPONENT('wc117','delay:4000;width:1140;height:500',function(self,config){var container,prevbutton,previmage,buttons,index=0,count=0,skip=true;self.make=function(){container=self.find('.wc117-images');count=self.find('.wc117-image').length;var builder=[];for(var i=0;i<count;i++)builder.push('<button><i class="fa fa-circle"></i></button>');self.append('<div class="wc117-controls">{0}</div>'.format(builder.join('')));buttons=$(self.find('.wc117-controls').get(0));self.event('click','button',function(){index=$(this).index();self.show(index);skip+=2});self.autosize();$(window).on('resize',self.autosize);interval=setInterval(function(){if(skip){skip--;return}index++;if(index>=count)index=0;self.show(index)},config.delay*1000)};self.autosize=function(){self.width(function(width){self.css('height',(config.height/config.width)*width);if(!index){index=0;self.show(index)}})};self.show=function(index){var offset=self.width();container.animate({scrollLeft:offset*index},500);previmage&&previmage.rclass('selected');setTimeout(function(){previmage=container.find('.wc117-image').eq(index).aclass('selected')},300);prevbutton&&prevbutton.rclass('selected');prevbutton=buttons.find('button').eq(index).aclass('selected')}});